function mainSlider() {
    var swiper = new Swiper('.main-slider .swiper-container', {
        slidesPerView: 1,
        spaceBetween: 0,
        loop: true,
        autoplay: true,
        speed: 900,
        navigation: {
            nextEl: '.main-slider .swiper-button-next',
            prevEl: '.main-slider .swiper-button-prev',
        },
        pagination: {
            el: '.main-slider .swiper-pagination',
            type: 'bullets',
            clickable: true,
        },
    })
}



function Sliders() {
    let SlidersArray = []
    $(".product-slider").each(function(index, el) {
        $(el).attr("data-slider-id", `${index}`)
        SlidersArray[index] = new Swiper(`.product-slider[data-slider-id="${index}"] .swiper-container`, {
            slidesPerView: 1,
            spaceBetween: 0,
            loop: true,
            navigation: {
                nextEl: `.product-slider[data-slider-id="${index}"] .swiper-button-next`,
                prevEl: `.product-slider[data-slider-id="${index}"] .swiper-button-prev`,
            },
            pagination: {
                el: `.product-slider[data-slider-id="${index}"] .swiper-pagination`,
                // type: 'fraction',
                type: 'custom',
                renderCustom: function (swiper, current, total) {
                    return `<span class="_current">${current} </span><span class="_total"> / ${total}</span>`
                }
            },
        })
    })
}

function shopsSlider() {
    var swiper = new Swiper('.shops .swiper-container', {
        slidesPerView: 5,
        spaceBetween: 0,
        observer: true,
        observeParents: true,
        observeSlideChildren: true,
        grid: {
            fill: 'row',
            rows: 2,
        },
        pagination: {
            el: '.shops .swiper-pagination',
            type: 'bullets',
            clickable: true,
        },
        breakpoints: {
            320: {
                slidesPerView: 2,
            },
            576: {
                slidesPerView: 4,
            },
            992: {
                slidesPerView: 5,
            }
        }
    })
}

mainSlider()
Sliders()
shopsSlider()

let modalTogglers = document.querySelectorAll("[data-modal]")
let modals = document.querySelectorAll(".modal")
let body = document.querySelector("body")
let header = document.querySelector(".header")

modalTogglers.forEach(el => {
    el.onclick = function () {
        let modalId = el.getAttribute("data-modal")
        let modal = document.querySelector(`#${modalId}`)
        closeModal()

        body.style.paddingRight = `${getScrollBarSize()[0]}px`
        modal.classList.add("_active")
        body.classList.add("fixed-body")


        document.querySelector(`#${modalId} .modal__close`).onclick = function (e) {
            closeModal()
        }
        document.querySelector(`#${modalId} .modal__bg`).onclick = function (e) {
            closeModal()
        }
    }
})


function closeModal() {
    body.style.paddingRight = 0
    modals.forEach(modal => {
        modal.classList.remove("_active")
        body.classList.remove("fixed-body")
    })
}


var getScrollBarSize = (function() {
    var el = window.document.createElement('textarea'), style = {
        'visibility': 'hidden', 'position': 'absolute', 'zIndex': '-2147483647',
        'top': '-1000px', 'left': '-1000px', 'width': '1000px', 'height': '1000px',
        'overflow': 'scroll', 'margin': '0', 'border': '0', 'padding': '0'
    }, support = el.clientWidth !== undefined && el.offsetWidth !== undefined;

    for (var key in style) {
        if (style.hasOwnProperty(key)) {
            el.style[key] = style[key];
        }
    }

    return function() {
        var size = null;
        if (support && window.document.body) {
            window.document.body.appendChild(el);
            size = [el.offsetWidth - el.clientWidth, el.offsetHeight - el.clientHeight];
            window.document.body.removeChild(el);
        }
        return size;
    };
})();

console.log(getScrollBarSize());

$(document).ready(function() {
    $('input[type="tel"]').mask('+7 999 999-9999', { autoclear: false }, { placeholder: '+7             ' });


    fix100vh();
    window.addEventListener('resize', () => {
        fix100vh();
        $(".fixed-body2").css("padding-right",`${getScrollBarSize()[0]}px`)
    })

});



function fix100vh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}

$(".nav__show").click(function () {
    if(window.innerWidth < 993){
        $(this).siblings(".nav__hidden").slideToggle()
    }
})

$(".burger").click(function () {
    $(".header").addClass("_open")
    $("body").addClass("fixed-body")
})

$(".menu__close").click(function () {
    $(".header").removeClass("_open")
    $("body").removeClass("fixed-body")
})

animate()
$(window).scroll(function() {
    animate()
});


function animate() {
    $("._animate").each(function(index, el) {
        let wt = $(window).scrollTop();
        let wh = $(window).height();
        let et = $(el).offset().top;
        let eh = $(el).outerHeight();
        let dh = $(document).height();
        if (wt + wh >= et || wh + wt == dh || eh + et < wh) {
            $(el).addClass("_animated")
        }
    });
}

//# sourceMappingURL=../sourcemaps/main.min.js.map
